# Extended Model Formula Extractions
## IDs: 524-589

---

## SOURCE 1: Advanced Stochastic Models (524-535)

### Formula 524: SABR Dynamics
```
dF = σF^β dW_1
dσ = ν×σ dW_2
⟨dW_1, dW_2⟩ = ρ dt
```
**Edge:** Stochastic vol with smile dynamics

### Formula 525: Heston Variance Process
```
dv_t = κ(θ - v_t)dt + ξ√v_t dW_v
dS_t = μS_t dt + √v_t S_t dW_s
⟨dW_s, dW_v⟩ = ρ dt
```
**Edge:** Mean-reverting stochastic volatility

### Formula 526: 3/2 Model
```
dv_t = κv_t(θ - v_t)dt + ξv_t^{3/2} dW_t
```
**Edge:** Better fit for vol-of-vol clustering

### Formula 527: Bates Model (Jump-Diffusion + SV)
```
dS/S = (μ - λμ_J)dt + √v dW_s + J dN
dv = κ(θ - v)dt + ξ√v dW_v
```
**Edge:** Combines Heston + Merton jumps

### Formula 528: Variance Gamma Process
```
X_t = θG_t + σW_{G_t}
G_t ~ Gamma(t/ν, ν)
```
**Edge:** Pure jump process for returns

### Formula 529: NIG (Normal Inverse Gaussian)
```
X ~ NIG(α,β,μ,δ): f(x) = (αδ/π)K_1(α√(δ²+(x-μ)²))e^{δγ+β(x-μ)}/√(δ²+(x-μ)²)
```
**Edge:** Fat tails + skewness

### Formula 530: CGMY Process
```
ν(dx) = C[e^{-Mx}/x^{1+Y} 1_{x>0} + e^{-G|x|}/|x|^{1+Y} 1_{x<0}]dx
```
**Edge:** Generalized tempered stable

### Formula 531: Rough Heston
```
v_t = v_0 + (1/Γ(H+1/2))∫_0^t (t-s)^{H-1/2}κ(θ-v_s)ds + ...
```
**Edge:** Fractional volatility (H < 0.5)

### Formula 532: Bergomi 2-Factor
```
d ln ξ_t^T = -½ν²(T-t)^{2H}dt + ν(T-t)^H dW_t
```
**Edge:** Forward variance modeling

### Formula 533: Local-Stochastic Vol (LSV)
```
dS = r S dt + L(S,t)√v S dW
```
**Edge:** Combines local vol smile fit with SV dynamics

### Formula 534: Path-Dependent Volatility
```
σ_t = f(S_t, min_{s≤t}S_s, max_{s≤t}S_s)
```
**Edge:** Vol depends on realized path

### Formula 535: Affine Jump-Diffusion (General)
```
dX = (K_0 + K_1 X)dt + √(H_0 + H_1 X)dW + dJ
```
**Edge:** General tractable class with transforms

---

## SOURCE 2: Regime Switching Models (536-545)

### Formula 536: Markov Regime Switch
```
r_t = μ_{s_t} + σ_{s_t} ε_t
P(s_{t+1}=j | s_t=i) = p_{ij}
```
**Edge:** State-dependent return distribution

### Formula 537: Hamilton Filter
```
P(s_t=j|Y_t) = [P(s_t=j|Y_{t-1}) × f(y_t|s_t=j)] / Σ_k[P(s_t=k|Y_{t-1}) × f(y_t|s_t=k)]
```
**Edge:** Regime probability inference

### Formula 538: Transition Probability Matrix
```
P = [p_11  p_12]
    [p_21  p_22]
E[Duration_i] = 1/(1-p_{ii})
```
**Edge:** Expected regime duration

### Formula 539: Regime-Switching GARCH
```
h_t = ω_{s_t} + α_{s_t}ε²_{t-1} + β_{s_t}h_{t-1}
```
**Edge:** State-dependent volatility persistence

### Formula 540: Smooth Transition (STAR)
```
y_t = φ_1 x_t + φ_2 x_t G(γ,c,s_t) + ε_t
G(γ,c,s) = 1/(1 + exp(-γ(s-c)))
```
**Edge:** Gradual regime transition

### Formula 541: Threshold VAR (TVAR)
```
Y_t = A_1 Y_{t-1} + ε_t  if q_{t-d} ≤ c
Y_t = A_2 Y_{t-1} + ε_t  if q_{t-d} > c
```
**Edge:** Threshold-triggered dynamics

### Formula 542: Mixture of Experts
```
y = Σ_k g_k(x) × f_k(x)
g_k(x) = exp(v_k·x)/Σ_j exp(v_j·x)
```
**Edge:** Soft regime assignment

### Formula 543: Jump Detection (BNS Test)
```
BNS = (RV - BV) / √((π²/4 + π - 5)μ₁⁻⁴ × TQ)
```
**Edge:** Test for intraday jumps

### Formula 544: Volatility Regime Indicator
```
Regime = 1{σ_realized > σ_threshold}
```
**Edge:** Simple vol regime classification

### Formula 545: Crisis Indicator (Mahalanobis)
```
D_M = √((x-μ)ᵀ Σ⁻¹ (x-μ))
Crisis if D_M > threshold
```
**Edge:** Multi-asset stress detection

---

## SOURCE 3: Correlation Models (546-555)

### Formula 546: DCC-GARCH (Dynamic Conditional Correlation)
```
Q_t = (1-a-b)Q̄ + a(ε_{t-1}ε'_{t-1}) + b Q_{t-1}
R_t = diag(Q_t)^{-1/2} Q_t diag(Q_t)^{-1/2}
```
**Edge:** Time-varying correlation

### Formula 547: CCC-GARCH
```
H_t = D_t R D_t
D_t = diag(h_{1t}^{1/2}, ..., h_{nt}^{1/2})
```
**Edge:** Constant conditional correlation

### Formula 548: BEKK Model
```
H_t = C'C + A'ε_{t-1}ε'_{t-1}A + B'H_{t-1}B
```
**Edge:** Full covariance dynamics

### Formula 549: Copula (Gaussian)
```
C(u_1,...,u_n) = Φ_R(Φ⁻¹(u_1),...,Φ⁻¹(u_n))
```
**Edge:** Dependence beyond correlation

### Formula 550: Clayton Copula (Tail Dependence)
```
C(u,v) = (u^{-θ} + v^{-θ} - 1)^{-1/θ}
λ_L = 2^{-1/θ} (lower tail dependence)
```
**Edge:** Asymmetric crash dependence

### Formula 551: t-Copula
```
C_ν,R(u) = t_{ν,R}(t_ν⁻¹(u_1),...,t_ν⁻¹(u_n))
```
**Edge:** Tail dependence from fat tails

### Formula 552: Realized Correlation
```
RCorr_{ij} = RCov_{ij} / √(RVar_i × RVar_j)
RCov_{ij} = Σ_k r_{i,k} × r_{j,k}
```
**Edge:** High-frequency correlation estimate

### Formula 553: Correlation Breakdown Indicator
```
ρ_crisis - ρ_normal > threshold
```
**Edge:** Correlation regime shift detection

### Formula 554: Eigenvalue Cleaning (RMT)
```
λ_cleaned = max(λ, λ_+) where λ_+ = σ²(1+√(N/T))²
```
**Edge:** Random Matrix Theory noise removal

### Formula 555: Ledoit-Wolf Shrinkage
```
Σ_shrunk = δ×F + (1-δ)×S
δ* = min(1, (shrinkage_intensity))
```
**Edge:** Optimal covariance shrinkage

---

## SOURCE 4: Cryptocurrency/DeFi Extended (556-570)

### Formula 556: Impermanent Loss (Exact)
```
IL = 2√(P_1/P_0)/(1 + P_1/P_0) - 1
```
**Edge:** LP loss vs HODL

### Formula 557: Concentrated Liquidity IL (V3)
```
IL_v3 = IL_v2 × √(P_upper/P_lower) / (√(P_upper/P_lower) - 1)
```
**Edge:** Amplified IL in range

### Formula 558: LP Fee APY
```
APY = (fees_24h × 365 / TVL) × (1 + fees_24h×365/TVL)^{365} - 1
```
**Edge:** Compounded LP return

### Formula 559: DEX Slippage (Constant Product)
```
Slippage = x/(x + reserve_in) = output_loss/output_ideal
```
**Edge:** Trade size impact

### Formula 560: Flashloan Attack Profit
```
π = Δprice × position - gas - flashloan_fee
```
**Edge:** Oracle manipulation profit

### Formula 561: Liquidation Cascade
```
Liquidated_t = Σ_i 1{collateral_i × price_t < debt_i × LT_i}
```
**Edge:** Systemic liquidation risk

### Formula 562: Borrow Rate (Compound)
```
Borrow_rate = base + multiplier × utilization
utilization = borrows / (cash + borrows - reserves)
```
**Edge:** Interest rate curve

### Formula 563: Supply Rate (DeFi)
```
Supply_rate = Borrow_rate × utilization × (1 - reserve_factor)
```
**Edge:** Depositor yield

### Formula 564: Oracle TWAP Manipulation Cost
```
Cost = ∫_0^T |P_manipulated - P_true| × volume(t) dt
```
**Edge:** Price oracle attack cost

### Formula 565: Bridge TVL Risk
```
Risk_score = TVL_bridge / min(TVL_chain_A, TVL_chain_B)
```
**Edge:** Cross-chain concentration risk

### Formula 566: NFT Floor Price
```
Floor = min(list_prices) or percentile_5(recent_sales)
```
**Edge:** NFT collection valuation

### Formula 567: Token Unlock Pressure
```
Sell_pressure = tokens_unlocking × historical_sell_rate
Price_impact = -λ × Sell_pressure / daily_volume
```
**Edge:** Vesting schedule impact

### Formula 568: Staking Yield (PoS)
```
Real_yield = (block_rewards + tips) / staked_amount - inflation
```
**Edge:** True staking return

### Formula 569: MEV-Boost Bid
```
Bid = expected_MEV - builder_margin
Block_value = base_fee_burn + tips + MEV
```
**Edge:** Block builder economics

### Formula 570: Gas Token Arbitrage
```
Profit = (gas_price_high - gas_price_low) × gas_stored - storage_cost
```
**Edge:** Gas price speculation

---

## SOURCE 5: Portfolio Rebalancing (571-580)

### Formula 571: Rebalance Threshold (Tolerance Band)
```
Rebalance if: |w_actual - w_target| > tolerance
```
**Edge:** Simple drift-based rule

### Formula 572: Calendar Rebalance Return Drag
```
Drag = Σ_i |Δw_i| × transaction_cost_i × rebalance_freq
```
**Edge:** Rebalancing cost

### Formula 573: Optimal Rebalance Frequency
```
f* = argmin[tracking_error(f)² + transaction_cost(f)]
```
**Edge:** Balance drift vs costs

### Formula 574: Tax-Loss Harvesting Value
```
Value = tax_rate × realized_loss × PV(tax_deferral)
```
**Edge:** Tax alpha from loss realization

### Formula 575: Momentum Tilt Rebalance
```
w_new = w_base + α × momentum_score / Σ|momentum_score|
```
**Edge:** Momentum overlay on strategic allocation

### Formula 576: Mean-Variance Rebalance
```
w* = (1/γ) Σ⁻¹ (μ - r_f)
```
**Edge:** Optimal weights given current estimates

### Formula 577: Black-Litterman Posterior
```
Π_BL = [(τΣ)⁻¹ + P'Ω⁻¹P]⁻¹ [(τΣ)⁻¹Π + P'Ω⁻¹Q]
```
**Edge:** Combine equilibrium + views

### Formula 578: Tracking Error Constraint
```
TE = √((w - w_bench)'Σ(w - w_bench)) ≤ TE_max
```
**Edge:** Benchmark deviation limit

### Formula 579: Turnover Constraint
```
Σ_i |w_i,new - w_i,old| ≤ turnover_max
```
**Edge:** Limit trading costs

### Formula 580: Factor Exposure Rebalance
```
Target: B_portfolio = B_target
B = factor loadings matrix
```
**Edge:** Maintain factor tilts

---

## SOURCE 6: Execution Quality Metrics (581-589)

### Formula 581: Implementation Shortfall (Detailed)
```
IS = (P_exec - P_decision) / P_decision
   = Delay_cost + Market_impact + Timing_cost + Opportunity_cost
```
**Edge:** Decomposed execution cost

### Formula 582: Participation Rate
```
POV = volume_traded / market_volume
```
**Edge:** Market impact indicator

### Formula 583: Arrival Price Slippage
```
Slippage = (P_avg_exec - P_arrival) / P_arrival
```
**Edge:** Execution vs start price

### Formula 584: Interval VWAP Deviation
```
Deviation = P_exec - VWAP_interval
```
**Edge:** Benchmark performance

### Formula 585: Fill Rate
```
Fill_rate = shares_executed / shares_ordered
```
**Edge:** Completion metric

### Formula 586: Information Leakage
```
Leakage = E[ΔP during execution | order_intent] - E[ΔP | no order]
```
**Edge:** Market impact from detection

### Formula 587: Effective Spread
```
Effective_spread = 2 × |P_exec - Mid_quote| × sign(trade)
```
**Edge:** Actual cost vs quoted spread

### Formula 588: Price Improvement
```
PI = (NBBO_near - P_exec) × sign(trade)
```
**Edge:** Better than best quote

### Formula 589: Venue Quality Score
```
Score = w_1×fill_rate + w_2×spread + w_3×latency + w_4×rebate
```
**Edge:** Multi-factor venue ranking

---

## SUMMARY: 66 formulas extracted

| Range | Category | Count |
|-------|----------|-------|
| 524-535 | Advanced Stochastic | 12 |
| 536-545 | Regime Switching | 10 |
| 546-555 | Correlation Models | 10 |
| 556-570 | Crypto/DeFi Extended | 15 |
| 571-580 | Portfolio Rebalancing | 10 |
| 581-589 | Execution Quality | 9 |
